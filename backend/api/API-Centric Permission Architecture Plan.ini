 API-Centric Permission Architecture Plan                                                                                     │
     │                                                                                                                              │
     │ Current State Analysis ✅                                                                                                     │
     │                                                                                                                              │
     │ Good News: Frontend already uses /api/ endpoints exclusively!                                                                │
     │ Current Structure: API app has all working ViewSets, permissions exist but need organization                                 │
     │ Missing: Communications, Workflows permissions not connected to registry                                                     │
     │ Unused: Most app-level ViewSets already deprecated/unused                                                                    │
     │                                                                                                                              │
     │ Proposed Clean Structure                                                                                                     │
     │                                                                                                                              │
     │ api/                                                                                                                         │
     │ ├── permissions/          # NEW: Organized permission directory                                                              │
     │ │   ├── __init__.py                                                                                                          │
     │ │   ├── base.py          # Base permission classes                                                                           │
     │ │   ├── auth.py          # Authentication permissions                                                                        │
     │ │   ├── pipelines.py     # Pipeline + Record permissions                                                                     │
     │ │   ├── communications.py # NEW: Communication permissions                                                                   │
     │ │   ├── workflows.py     # NEW: Workflow permissions                                                                         │
     │ │   ├── relationships.py # Relationship permissions                                                                          │
     │ │   ├── forms.py         # Form + Validation permissions                                                                     │
     │ │   └── monitoring.py    # NEW: Monitoring + AI permissions                                                                  │
     │ └── views/               # Already well-organized ✅                                                                          │
     │                                                                                                                              │
     │ Phase 1: Organize Existing Permissions (Week 1)                                                                              │
     │                                                                                                                              │
     │ 1.1 Create Permission Directory Structure                                                                                    │
     │                                                                                                                              │
     │ - Create api/permissions/ directory with organized permission files                                                          │
     │ - Move existing classes from api/permissions.py to appropriate files:                                                        │
     │   - PipelinePermission, RecordPermission → pipelines.py                                                                      │
     │   - RelationshipPermission → relationships.py                                                                                │
     │   - FormPermission, ValidationRulePermission → forms.py                                                                      │
     │   - DuplicatePermission → forms.py (or create duplicates.py)                                                                 │
     │                                                                                                                              │
     │ 1.2 Update Import Statements                                                                                                 │
     │                                                                                                                              │
     │ - Update all api/views/ files to import from new permission locations                                                        │
     │ - Test existing functionality to ensure no regressions                                                                       │
     │                                                                                                                              │
     │ Phase 2: Add Missing Registry-Connected Permissions (Week 1-2)                                                               │
     │                                                                                                                              │
     │ 2.1 Create Missing Permission Classes                                                                                        │
     │                                                                                                                              │
     │ - api/permissions/communications.py:                                                                                         │
     │   - CommunicationPermission (connect to registry communications)                                                             │
     │   - ChannelPermission (resource-specific permissions)                                                                        │
     │ - api/permissions/workflows.py:                                                                                              │
     │   - WorkflowPermission (connect to registry workflows + dynamic workflow_{id})                                               │
     │   - WorkflowExecutionPermission (execution-specific validation)                                                              │
     │                                                                                                                              │
     │ 2.2 Complete Registry Integration                                                                                            │
     │                                                                                                                              │
     │ - Add missing categories to authentication/permissions_registry.py:                                                          │
     │   - forms category (currently missing)                                                                                       │
     │   - duplicates category (currently missing)                                                                                  │
     │ - Connect existing permissions to use registry instead of custom logic                                                       │
     │                                                                                                                              │
     │ Phase 3: Update API Views (Week 2)                                                                                           │
     │                                                                                                                              │
     │ 3.1 Replace Basic Auth with Custom Permissions                                                                               │
     │                                                                                                                              │
     │ - Update api/views/communications.py ViewSets to use CommunicationPermission                                                 │
     │ - Update api/views/workflows.py ViewSets to use WorkflowPermission                                                           │
     │ - Update api/views/tracking.py ViewSets to use CommunicationPermission                                                       │
     │                                                                                                                              │
     │ 3.2 Validate All Endpoints                                                                                                   │
     │                                                                                                                              │
     │ - Test all API endpoints use appropriate permission classes                                                                  │
     │ - Verify registry integration for all permission checks                                                                      │
     │ - Confirm frontend connectivity (should be seamless since frontend already uses /api/)                                       │
     │                                                                                                                              │
     │ Phase 4: Clean Up & Validation (Week 2-3)                                                                                    │
     │                                                                                                                              │
     │ 4.1 Review Direct App URLs                                                                                                   │
     │                                                                                                                              │
     │ - Check if /relationships/ direct URL is used by frontend or external services                                               │
     │ - Migrate any remaining functionality to API layer if needed                                                                 │
     │ - Deprecate unused app ViewSets completely                                                                                   │
     │                                                                                                                              │
     │ 4.2 Complete System Validation                                                                                               │
     │                                                                                                                              │
     │ - Registry utilization: All 13 categories actively used                                                                      │
     │ - Dynamic permissions: pipeline_{id}, workflow_{id}, form_{id} working                                                       │
     │ - Permission matrix: Frontend accurately reflects all permissions                                                            │
     │ - Consistent enforcement: All endpoints follow same permission pattern                                                       │
     │                                                                                                                              │
     │ Key Benefits                                                                                                                 │
     │                                                                                                                              │
     │ - ✅ Already API-Centric: Frontend uses /api/ exclusively (no migration needed)                                               │
     │ - ✅ Clean Organization: Logical permission grouping in dedicated directory                                                   │
     │ - ✅ Complete Registry Integration: All categories utilized, no wasted infrastructure                                         │
     │ - ✅ Minimal Disruption: Build on existing working structure                                                                  │
     │ - ✅ Future-Ready: Organized structure for easy permission additions                                                          │
     │                                                                                                                              │
     │ Implementation Priority                                                                                                      │
     │                                                                                                                              │
     │ 1. High: Organize existing permissions (immediate cleanup)                                                                   │
     │ 2. High: Add Communications, Workflows permissions (fill gaps)                                                               │
     │ 3. Medium: Complete registry integration (connect missing categories)                                                        │
     │ 4. Low: Clean up unused app URLs (minimal impact)                                                                            │
     │                                                                                                                              │
     │ This creates a clean, organized, registry-connected permission system building on the solid API foundation already in place.